function checkResting(t,e,n){for(var i in n.keys){if(t===n.keys[i].key){for(var o in e.keysDown)if(e.keysDown[o]===t&&(e.keysDown.splice(o,1),e.keysDown.length>0)){var a=e.keysDown[e.keysDown.length-1];for(var s in n.keys)s.key===a&&e.mc.gotoAndStop(release)}e.mc.gotoAndStop(0)}}}function situationInit(t,e){var n="theSituation.json?"+Math.floor(100*Math.random()),i=new XMLHttpRequest;i.onreadystatechange=function(){if(4==this.readyState&&200==this.status){var t=JSON.parse(this.responseText);theSituation.inited||(theSituation.inited=!0,e(t))}else 404==this.status&&(theSituation.inited="error",alert("Did you not pass in a url I can === actually === use?"))},i.open("GET",n,!0),i.send()}theSituation={},theSituation.clickNext=function(t,e,n){window.addEventListener("mousedown",function(t){"stop"==n.next&&e.mc.gotoAndStop(e.mc.currentFrame+1),"play"==n.next&&e.mc.gotoAndStop(e.mc.currentFrame+1)})},theSituation.actionKeys=function(t,e,n){e.keysDown=[],alert(JSON.stringify(n)),window.addEventListener("keydown",function(t){var i=t.key;for(var o in n.keys){var a=n.keys[o];if(i===a.key){for(var s in e.keysDown)e.keysDown[s]===a.key&&(keysDown=e.keysDown.splice(s,1));e.keysDown.push(a.key),e.mc.gotoAndStop(a.frame)}}}),window.addEventListener("keyup",function(t){n.restingState&&checkResting(t.key,e,n)})},theSituation.actorsGames=function(t,e){for(var n=0;n<e.length;n++){var i=e[n];theSituation.actorGames(t,i)}},theSituation.actorGames=function(t,e){for(var n=0;n<e.data.games.length;n++){var i=e.data.games[n];theSituation.actorGame(t,e,i)}},theSituation.actorGame=function(t,e,n){return"clickNext"==n.name&&theSituation.clickNext(t,e,n),"actionKeys"==n.name&&theSituation.actionKeys(t,e,n),{}},theSituation.castActors=function(t,e){for(var n=[],i=0;i<e.length;i++){var o={};o.data=e[i],o.mc=t[o.data.name],o.games=[],o.name=o.data.name,n.push(o)}return n},theSituation.inited=!1,theSituation.processTheSituation=function(t,e){t?e?theSituation.inited||situationInit(t,e):alert("Did you forget to pass in theSituation?  Did you not read the â–³?  Do you not trust me?"):alert("You didn't pass in root and it makes me very upset.")};